<%- include("./../partials/header.ejs") %>

<style>
    body {
        font-family: Arial, sans-serif;
        background-color: #f4f6f9;
        margin: 0;
        padding: 20px;
    }

    .form-container {
        background: #ffffff;
        border-radius: 10px;
        padding: 20px;
        max-width: 600px;
        margin: 20px auto;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        text-align: center;
    }

    h1 {
        color: #333;
        text-align: center;
        margin-bottom: 20px;
    }

    label {
        display: block;
        margin-bottom: 8px;
        font-weight: bold;
        color: #555;
        text-align: left;
    }

    select, textarea, input[type="file"] {
        width: 100%;
        padding: 10px;
        margin-bottom: 20px;
        border: 1px solid #ddd;
        border-radius: 5px;
        font-family: Arial, sans-serif;
        font-size: 14px;
    }

    textarea {
        height: 100px;
        resize: vertical;
    }

    input[type="file"] {
        border: none;
        padding: 5px;
    }

    .action-buttons {
        display: flex;
        gap: 10px;
        justify-content: center;
        margin-top: 20px;
    }

    .form-buttons {
        display: flex;
        flex-direction: column;
        gap: 10px;
    }

    .delete-button-container {
        text-align: center;
        margin-top: 20px;
    }

    button {
        background-color: #007bff;
        color: white;
        border: none;
        padding: 12px 20px;
        border-radius: 5px;
        cursor: pointer;
        font-size: 16px;
        transition: background-color 0.3s ease;
    }

    button:hover {
        background-color: #0056b3;
    }

    .delete-button {
        background-color: #dc3545;
        margin-top: 10px;
    }

    .delete-button:hover {
        background-color: #c82333;
    }

    .back-link {
        display: block;
        margin-top: 10px;
        color: #007bff;
        text-decoration: none;
    }

    .back-link:hover {
        text-decoration: underline;
    }

    .toggle-container {
        display: flex;
        align-items: center;
        justify-content: start;
        gap: 10px;
        margin-bottom: 20px;
    }

    .toggle-label {
        font-weight: bold;
        color: #555;
    }
</style>

<div class="form-container">
    <h1>Edit Label</h1>
    <form id="editLabelForm" action="/label/<%= label.label_id %>/edit" method="POST" enctype="multipart/form-data">


        <label for="contentType">Select Content Type to Edit:</label>
        <select name="contentType" id="contentType" required>
            <option value="text" <% if (label.content_type === 'text') { %>selected<% } %>>Text</option>
            <option value="image" <% if (label.content_type === 'image') { %>selected<% } %>>Image</option>
            <option value="audio" <% if (label.content_type === 'audio') { %>selected<% } %>>Audio</option>
        </select>

        <div id="textContentInput" style="display: none;">
            <label for="textContent">Edit Text Content:</label>
            <textarea name="textContent" id="textContent"><%= label.text_content %></textarea>
        </div>

        <div id="imageContentInput" style="display: none;">
            <label for="imageContent">Upload New Image:</label>
            <input type="file" name="imageContent" id="imageContent" accept="image/*" multiple>
        </div>

        <div id="audioContentInput" style="display: none;">
            <label for="audioContent">Upload New Audio:</label>
            <input type="file" name="audioContent" id="audioContent" accept="audio/*" multiple>
        </div>

        <label for="isLabelPrivate">
            <input type="checkbox" name="isLabelPrivate" value="on" <% if (label.is_label_private) { %>checked<% } %>> Private
        </label>

        <div class="form-buttons">
            <button type="submit">Save Changes</button>
        </div>
    </form>

    <div class="delete-button-container">
        <form action="/label/<%= label.label_id %>/delete" method="POST">
            <button type="submit" class="delete-button" onclick="return confirm('Are you sure you want to delete this label?')">Delete</button>
        </form>
    </div>

    <a href="/home" class="back-link">Back to Labels</a>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const contentType = document.getElementById('contentType');
        const textContentInput = document.getElementById('textContentInput');
        const imageContentInput = document.getElementById('imageContentInput');
        const audioContentInput = document.getElementById('audioContentInput');

        function toggleContentInputs() {
            textContentInput.style.display = contentType.value === 'text' ? 'block' : 'none';
            imageContentInput.style.display = contentType.value === 'image' ? 'block' : 'none';
            audioContentInput.style.display = contentType.value === 'audio' ? 'block' : 'none';
        }

        contentType.addEventListener('change', toggleContentInputs);

        // Initialize the form with the correct content input visible
        toggleContentInputs();
    });

</script>

<%- include("./../partials/footer.ejs") %>










<!-- <%- include("./../partials/header.ejs") %>

<style>
    body {
        font-family: Arial, sans-serif;
        background-color: #f4f6f9;
        margin: 0;
        padding: 20px;
    }

    .form-container {
        background: #ffffff;
        border-radius: 10px;
        padding: 20px;
        max-width: 600px;
        margin: 0 auto;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    h1 {
        color: #333;
        text-align: center;
        margin-bottom: 20px;
    }

    label {
        display: block;
        margin-bottom: 8px;
        font-weight: bold;
        color: #555;
        text-align: left;
    }

    select, textarea, input[type="file"] {
        width: 100%;
        padding: 10px;
        margin-bottom: 20px;
        border: 1px solid #ddd;
        border-radius: 5px;
        font-family: Arial, sans-serif;
        font-size: 14px;
    }

    textarea {
        height: 100px;
        resize: vertical;
    }

    input[type="file"] {
        border: none;
        padding: 5px;
    }

    .action-buttons {
        display: flex;
        gap: 10px;
        justify-content: space-between;
        margin-top: 20px;
    }

    button {
        background-color: #007bff;
        color: white;
        border: none;
        padding: 12px 20px;
        border-radius: 5px;
        cursor: pointer;
        font-size: 16px;
        transition: background-color 0.3s ease;
    }

    button:hover {
        background-color: #0056b3;
    }

    .delete-button {
        background-color: #dc3545;
    }

    .delete-button:hover {
        background-color: #c82333;
    }

    .back-link {
        display: block;
        text-align: center;
        margin-top: 10px;
        color: #007bff;
        text-decoration: none;
    }

    .back-link:hover {
        text-decoration: underline;
    }

    .toggle-container {
        display: flex;
        align-items: center;
        justify-content: start;
        gap: 10px;
        margin-bottom: 20px;
    }

    .toggle-label {
        font-weight: bold;
        color: #555;
    }
</style>

<h1>Edit Label</h1> 
<form action="/label/<%= label.label_id %>/edit" method="POST" enctype="multipart/form-data">
    <label for="contentType">Select Content Type to Edit:</label>
    <select name="contentType" id="contentType" required>
        <option value="text" <% if (label.content_type === 'text') { %>selected<% } %>>Text</option>
        <option value="image" <% if (label.content_type === 'image') { %>selected<% } %>>Image</option>
        <option value="audio" <% if (label.content_type === 'audio') { %>selected<% } %>>Audio</option>
    </select>

    <div id="textContentInput" style="display: none;">
        <label for="textContent">Edit Text Content:</label>
        <textarea name="textContent" id="textContent"><%= label.text_content %></textarea>
    </div>

    <div id="imageContentInput" style="display: none;">
        <label for="imageContent">Upload New Image (Optional):</label>
        <input type="file" name="imageContent" id="imageContent" accept="image/*" multiple>
    </div>

    <div id="audioContentInput" style="display: none;">
        <label for="audioContent">Upload New Audio (Optional):</label>
        <input type="file" name="audioContent" id="audioContent" accept="audio/*" multiple>
    </div>

    <label for="isLabelPrivate">
        <input type="checkbox" name="isLabelPrivate" value="on" <% if (label.is_label_private) { %>checked<% } %>> Private
    </label>

    <button type="submit">Save Changes</button>
</form>

<form action="/label/<%= label.label_id %>/delete" method="POST">
    <button type="submit" class="delete-button" onclick="return confirm('Are you sure you want to delete this label?')">Delete</button>
</form>

<a href="/home" class="back-link">Back to Labels</a>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const contentType = document.getElementById('contentType');
        const textContentInput = document.getElementById('textContentInput');
        const imageContentInput = document.getElementById('imageContentInput');
        const audioContentInput = document.getElementById('audioContentInput');

        function toggleContentInputs() {
            textContentInput.style.display = contentType.value === 'text' ? 'block' : 'none';
            imageContentInput.style.display = contentType.value === 'image' ? 'block' : 'none';
            audioContentInput.style.display = contentType.value === 'audio' ? 'block' : 'none';
        }

        contentType.addEventListener('change', toggleContentInputs);

        // Initialize the form with the correct content input visible
        toggleContentInputs();
    });
</script>

<%- include("./../partials/footer.ejs") %> -->








<!-- <%- include("./../partials/header.ejs") %>




<style>
    body {
        font-family: Arial, sans-serif;
        background-color: #f8f9fa;
        margin: 0;
        padding: 20px;
    }

    h1 {
        color: #333;
        font-size: 24px;
        margin-bottom: 20px;
    }

    form {
        background: #fff;
        border-radius: 8px;
        padding: 20px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        max-width: 600px;
        margin: 0 auto;
    }

    label {
        display: block;
        margin-bottom: 10px;
        font-weight: bold;
        color: #555;
    }

    textarea {
        width: 100%;
        height: 100px;
        padding: 10px;
        margin-bottom: 20px;
        border: 1px solid #ddd;
        border-radius: 5px;
        font-family: Arial, sans-serif;
        font-size: 14px;
    }

    input[type="file"] {
        margin-bottom: 15px;
        display: block;
    }

    input[type="checkbox"] {
        margin-right: 10px;
    }

    button {
        background-color: #007bff;
        color: #fff;
        border: none;
        padding: 10px 15px;
        font-size: 14px;
        border-radius: 5px;
        cursor: pointer;
    }

    button:hover {
        background-color: #0056b3;
    }

    .delete-button {
        background-color: #dc3545;
    }

    .delete-button:hover {
        background-color: #c82333;
    }

    .image-preview {
        display: block;
        margin-top: 10px;
        border: 1px solid #ddd;
        border-radius: 5px;
        max-width: 100%;
        height: auto;
    }

    .audio-preview {
        margin-top: 10px;
    }

    .back-link {
        display: inline-block;
        margin-top: 20px;
        color: #007bff;
        text-decoration: none;
    }

    .back-link:hover {
        text-decoration: underline;
    }

    .current-content {
        margin-bottom: 20px;
    }
</style>



<h1>Edit Label</h1>
<form action="/label/<%= label.label_id %>/edit" method="POST" enctype="multipart/form-data">
    <label for="textContent">Edit Text Content:</label>
    <textarea name="textContent" id="textContent"><%= label.text_content %></textarea>

    <label for="isLabelPrivate">Private:</label>
    <input type="checkbox" name="isLabelPrivate" value="on" <% if (label.is_label_private) { %>checked<% } %> >

    <div>
        <label for="imageContent">Upload New Image (Optional):</label>
        <input type="file" name="imageContent" id="imageContent" accept="image/*" multiple>
    </div>

    <div>
        <label for="audioContent">Upload New Audio (Optional):</label>
        <input type="file" name="audioContent" id="audioContent" accept="audio/*" multiple>
    
    </div>

    <button type="submit">Save Changes</button>
</form>

<form action="/label/<%= label.label_id %>/delete" method="POST">
    <button type="submit" onclick="return confirm('Are you sure you want to delete this label?')">Delete</button>
</form>

<a href="/home">Back to Labels</a>





<%- include("./../partials/footer.ejs") %> -->

<!-- 
<h1>Edit Label</h1>
<form action="/label/<%= label.label_id %>/edit" method="POST" enctype="multipart/form-data">
    <label for="textContent">Edit Text Content:</label>
    <textarea name="textContent" id="textContent"><%= label.text_content %></textarea>

    <label for="isLabelPrivate">Private:</label>
    <input type="checkbox" name="isLabelPrivate" value="on" <% if (label.is_label_private) { %>checked<% } %> >

    <div>
        <label for="imageContent">Upload New Image (Optional):</label>
        <input type="file" name="imageContent" id="imageContent" accept="image/*" multiple>
        <% if (label.image_path) { %>
            <p>Current Image:</p>
            <img src="<%= label.image_path %>" alt="Current Image" style="max-width: 200px; height: auto; border-radius: 5px;">
        <% } %>
    </div>

    <div>
        <label for="audioContent">Upload New Audio (Optional):</label>
        <input type="file" name="audioContent" id="audioContent" accept="audio/*" multiple>
        <% if (label.audio_path) { %>
            <p>Current Audio: <a href="<%= label.audio_path %>" target="_blank">Listen</a></p>
        <% } %>
    </div>

    <button type="submit">Save Changes</button>
</form>

<form action="/label/<%= label.label_id %>/delete" method="POST">
    <button type="submit" onclick="return confirm('Are you sure you want to delete this label?')">Delete</button>
</form>

<a href="/home">Back to Labels</a> -->